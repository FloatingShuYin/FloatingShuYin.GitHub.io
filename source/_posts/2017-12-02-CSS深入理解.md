---
title: CSS深入理解
date: 2017-12-02 13:24:50
tags:
- 笔记
- CSS
categories:
- 笔记
- CSS
---

- 观看[慕课网 张鑫旭 CSS深入理解](https://www.imooc.com/u/197450/courses?sort=publish)时的笔记

## Float（浮动）

### Float的本意

浮动的原本的用意是：实现文本环绕效果。

### Float特性

浮动具有 **包裹性**与 **破坏性**：

  - 包裹性：父元素浮动后会被拖出文档流，而其中的子元素将被父元素包裹并且被隔绝。
  - 破坏性：子元素浮动后会被拖出文档流，并且被隔绝，因此导致父元素高度塌陷。
  这种特性称为Block formatting context(BFC)(块级格式化上下文)。

具有包裹性的其他属性：

- ``display:inline-block/table-cell/...``
- ``position:absolute/fixed/sticky``
- ``overflow:hidden/scroll``

具有破坏性的其他属性：

- ``display:none``
- ``position:absolute/fixed/sticky``

### 清除Float

清除浮动的影响有两种方法：

- 在子元素脚底插入``clear:both``
- 父元素应用BFC(支持IE8+)或haslayout(IE6/IE7)

这两种方法的差异：

- ``clear:both`` 是裸漏的，会发生border(边框)重叠。
- BFC/haslayout 是隔绝的。**不会** 发生border(边框)重叠。

``clear:both`` 的两种应用形式：

- HTML block水平元素底部添加：``<div style="clear:both"></div>``
- CSS after伪元素底部生成：``.clearfix:after{clear:both}``

BFC/haslayout通常声明：

- ``float:left/right``
- ``position:absolute/fixed``
- ``overflow:hidden/scroll (IE7+)``
- ``display:inline-block/table-cell(IE8+)``
- ``width/height/zoom:1/... (IE6/IE7)``

*如何择抉？*

- IE8 以上使用：
``.cleanfix:after{content:";display:table;clean:both}``

- IE8 以下使用：
``.cleanfix {*zoom:1}``


### 问题

应用``clear:both``后的问题：

- [clear与margin重叠](https://www.imooc.com/code/2778)

### 不易察觉的特性

- [float浮动去空格](https://www.imooc.com/code/2864)
- [display:block化](https://www.imooc.com/code/2865)

### 高级应用

- [Float流体布局高级应用](https://www.imooc.com/video/2886)

### 兼容性

``TODO``

-----------------------------------------------------------

## Absolute(绝对的)

``absolute``是``position``属性的一个值。



### Absolute特性

Absolute具有 **包裹性**与 **破坏性**：

  - 包裹性：应用``position：absolute``样式的父元素会被拖出文档流，
  而其中的子元素被父元素包裹，并且被隔绝。
  - 破坏性：应用``position：absolute``样式的子元素会被拖出文档流，
  并且被隔绝，因此导致父元素高度塌陷。
  这种特性称为Block formatting context(BFC)(块级格式化上下文)。


### 与Relative（相对的）的关系

Absolute与Relative是分离的，对立的，绝不是什么兄弟关系
反而Absolute与Float是兄弟关系(他们具体一些相同的特性)。

### 无依赖的Absolute定位

定义：不受relative限制的absolute定位，行为表现上是不使用 ``top/right/bottom/left`` 任何一个属性 **或** 使用``auto``作为值。

#### 特性

- [位置跟随](https://www.imooc.com/code/4403)
应用``position：absolute``样式的元素会被拖出文档流，
但是并不会像浮动那样偏移到左/右两边，而是跟随在前一个元素的后面。
- [元素覆盖](https://www.imooc.com/code/4401)
应用``position：absolute``样式的元素会被拖出文档流，并且跟随在前一个元素的后面。
因此看起来就像是原地起飞XD(覆盖正常文档流中的元素)
- [去浮动](https://www.imooc.com/code/4402)
如果应用``float:left/float:right``样式的元素之后又被应用``position：absolute``样式，那么此元素的浮动属性会失效。
- [超越overflow](https://www.imooc.com/code/4404)
排第一的评论言之有理。

#### 实例

不吹不黑都是些骚的不行的操作 666+

- [图片图标绝对定位覆盖](https://www.imooc.com/video/4461)
- [下拉框定位最佳实践](https://www.imooc.com/video/4462)
- [居中以及边缘对齐定位](https://www.imooc.com/video/4464)
- [星号对齐 图文对齐 文字溢出容器](https://www.imooc.com/video/4465)

### [脱离文档流二三事](https://www.imooc.com/video/4544)

回流与重绘

- 动画尽量作用在绝对定位元素上。 这很好理解绝对定位元素不占据文档流的空间。

垂直空间的层级

- 遵循后来居上原则

### absolute元素的top/left/right/bottom属性

- 一个absolute元素（应用``position：absolute``样式的元素）设置``top/left/right/bottom``属性时
一般是两两配对使用的：top与left、top与right、bottom与left、bottom与right。

- 如果一个absolute元素设置``top:0;left:0``,那么这个absolute元素将会一直移动到浏览器的左上角，
直到在这个absolute元素的祖先元素中遇到了position:relative/absolute/fixed/sticky元素

- 如果一个absolute元素只设置一个方向的值（如：``top:0;``） ，那么这一个absolute元素会向这个方向移动（如：上)。
直到在这个absolute元素的祖先元素中遇到了position:relative/absolute/fixed/sticky元素

有意思的来了如果四个方向的值都设定的话会怎样？

会爆炸或者说拉伸。



### [absolute和width/height](https://www.imooc.com/video/5177)

- 相互替换性
在一个absolute元素中 ``top/left/right/bottom`` 属性可以替换 ``width/height``

如：
``position:absolute;left:0;top:0;width:50%;``
与
``position:absolute;left:0;top:0;right:50%;``
是等价的

{% note warning %}
**兼容性问题**
此特性只支持IE7+浏览器
{% endnote %}

- 差异所在：拉伸更强大

例如实现一个距离右侧200px的全屏自适应的容器层。

使用拉伸：
``position:absolute;left:0;right:200px``

而width只能使用CSScalc计算：
``position:absolute;left:0;width:calc(100%-200px)``

- 相互支持性
  1. 容器无需固定width/height值，内部元素亦可拉伸。
  2. 容器拉伸，内部元素支持百分比width/height值。

- 相互合作性

  如果设置了绝对定位拉伸又同时设置了width/height值，会怎样？

  实际证明width/height值的优先级高于绝对定位拉伸。

  而当绝对定位拉伸与尺寸限制（设置了width/height值）以及 ``margin:auto`` 同时存在时
  会有绝对定位元素的绝对居中效果！

  {% note warning %}
  **兼容性问题**
  此特性只支持IE8+浏览器
  {% endnote %}

- [absolute与整体页面布局](https://www.imooc.com/video/5178)

``TODO``
